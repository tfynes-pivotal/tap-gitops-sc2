---
tap_install:
  values: 
        shared:
          ca_cert_data: |
            -----BEGIN CERTIFICATE-----
            MIIGAjCCA+qgAwIBAgIUZLrf0YsefEGreLJa6f/NtPxvlbcwDQYJKoZIhvcNAQEL
            BQAwdjELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAk1BMQ8wDQYDVQQHDAZCb3N0b24x
            ITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDEOMAwGA1UEAwwFdGFu
            enUxFjAUBgkqhkiG9w0BCQEWB2FAYi5jb20wHhcNMjMwNjIxMTYzNTI5WhcNMjQw
            NjIwMTYzNTI5WjB2MQswCQYDVQQGEwJVUzELMAkGA1UECAwCTUExDzANBgNVBAcM
            BkJvc3RvbjEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMQ4wDAYD
            VQQDDAV0YW56dTEWMBQGCSqGSIb3DQEJARYHYUBiLmNvbTCCAiIwDQYJKoZIhvcN
            AQEBBQADggIPADCCAgoCggIBAMtMhel1iZSmu9cf5d3JFQMiKzymKTyglxpQua0q
            08KuM0Qz30sBLTZx4FlsUTS3GAx0xJR9CUNF8tDSOQ0qPyG1BzVSMxTCZFqpIrhv
            NMgAAavJh7doNPTHreLZk84DEdSC1mrI4XMUZJeiPIYtccZBYQVxMPlLMjhp1Aa7
            JW3JrJvg0aunF8j7/yCXHQ1kyL+uG8HjEaKbWhA2qGzv9Q059kM+M5dANgG8RxDP
            u4mxJACWqcEadda4IRGI6K4PFselZLE+NovSfa+yFN+MHwQTUR79uw1JbHVfOAhI
            HKkga9Af8dpLjhNJgwpmhuAMm48YTwubvRh2Q4g84RTwsCsox9Fc0dyAfEAouGH4
            bds6TcfnRiGCLUzWnosg9cLaqjsT3CDtVtIL5XlH17sKpq0SiyNyxfQwD7d8orLG
            2qS4AGrw0di1VG1eKYWgWrNkjp3Zs6Dg0OY9njODdU4Z8SfvL31WR2pR07DbYxXJ
            avK/6rzJdKDJXpGeLXTEzO75oc6FX4ZbgXUv/+0uMundHtyM9y0jA/zluJoxKGs0
            RbybZU8fUvIUp0UncsTELA8RmF6/DmpTCiuxUsDRrD5nwx8GQFzRUPecwRxGLAOf
            qYIkaivWcVceyl6kA65nnwJzTSxB5Rvtf+Od/7BOsiZCOR2unhk3xMW175qj9VW8
            AO6rAgMBAAGjgYcwgYQwHQYDVR0OBBYEFAsvJrqlCs2D+t9fEwM12eunVDW/MB8G
            A1UdIwQYMBaAFAsvJrqlCs2D+t9fEwM12eunVDW/MA8GA1UdEwEB/wQFMAMBAf8w
            MQYDVR0RBCowKIImbXlyZXBvLWhhcmJvci5oYXJib3Iuc3ZjLmNsdXN0ZXIubG9j
            YWwwDQYJKoZIhvcNAQELBQADggIBAEcR6cM5rX7PWUt0LUh+Oi0d+vFRlfrw/ENY
            OqfRjQP7xC4WAisqAuKNn3uE2cilX7y1wkBEr9iWu0Z9leTsFGCDZH7J12Tsms5G
            B4XAr5LKK+jhS994LcEtW4WUCjqMZw6mFwfn6u5KW1diDzA90VhPaYd1LY9mf5Ee
            tQdSn/BvylEzPGe9U1Xen66JlKhZoHWVSzyeaQn4/rNw55B4ElNpyZ+PQCwYVt/Y
            ZAXirg7PiChkCd8nQu7KmfgT03dZSTIC4P01nXyzdG+uXW1XNTwFMLnzdVnNMb+Y
            25T+Z16+WMDCs5rXGWHQ0D9QwDgvyQSw9loaXI1ymdXPYbLF2eGz6pWGXb1g2hPE
            fZSfKq5Ubc9324xwP6KkOlZmiLojn4jOSnib6ZpQSbayyfLG6hn+J0jY2AytJFBO
            /qQOm5iQLXlfcA4Cnjkn0GuN2STu3PlC/YWZ5TUyYTcXuppamltUHUiTTxA9AIvU
            5iDp7mo1lRjJUfHsO1X5LaVBdgj4qUq2rTUoKUp269E+7yIvovw/fu+/K9DnRuGn
            6BDtPQhL49wEW9QxdOWpEik/tKwDGs62f+eFqaQ+oxzIH0eechWW3XLKU9FZCEdz
            OCkAiTgeeJ49BBjlrdcVSiPPOx5Ak2I9bjXsefhNE5zDqQH3beqi2QID0454MQTC
            42zSegjd
            -----END CERTIFICATE-----


          ingress_domain: "akslab1.tap.fynesy.com"
          ingress_issuer: "letsencrypt-production"

          image_registry:
              project_path: https://myrepo-harbor.harbor.svc.cluster.local/tap
              username: admin
              password: Harbor12345
        
        
        buildservice:
            kp_default_repository: https://myrepo-harbor.harbor.svc.cluster.local/tap/build-service
            kp_default_repository_username: admin
            kp_default_repository_password: Harbor12345
        
        
        learningcenter:
            imageRegistry: 
              host: "myrepo-harbor.harbor.svc.cluster.local"
              username: admin
              password: Harbor12345


        ceip_policy_disclosed: true

        profile: full 
        supply_chain: basic 

        ootb_supply_chain_basic: 
          registry:
            server: "myrepo-harbor.harbor.svc.cluster.local"
            repository: "tap"
          gitops:
            ssh_secret: ""

        ootb_supply_chain_testing_scanning:
          registry:
            server: "index.docker.io"
            repository: "fynesy"
          gitops:
            ssh_secret: ""

        contour:
          envoy:
            service:
              type: LoadBalancer 


        tap_gui:
          service_type: ClusterIP # If the shared.ingress_domain is set as earlier, this must be set to ClusterIP.
          metadataStoreAutoconfiguration: true 
          app_config:
            auth:
              allowGuestAccess: true
            catalog:
              locations:
                - type: url
                  target: http://github.com/tfynes-pivotal/tapblankcatalog/blob/main/catalog-info.yaml

        metadata_store:
          ns_for_export_app_cert: "*"
          app_service_type: ClusterIP # Defaults to LoadBalancer. If shared.ingress_domain is set earlier, this must be set to ClusterIP.

        scanning:
          metadataStore:
            url: "" 

        grype:
          namespace: "default"
          targetImagePullSecret: "tap-registry"
          # In a single cluster, the connection between the scanning pod and the metadata store happens inside the cluster and does not pass through ingress. This is automatically configured, you do not need to provide an ingress connection to the store.

        policy:
          tuf_enabled: false 

        cnrs:
          domain_template: '{{.Name}}-{{.Namespace}}.{{.Domain}}'

        api_portal:
          apiPortalServer:
            #!sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://10.0.166.161/openapi
            sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://customer-profile-x.default.svc.cluster.local:8080/api-docs,http://scg-operator.tap-install.svc.cluster.local/openapi
            trustInsecureSourceUrls: true
            sourceUrlsCacheTtlSec: "30"
            sourceUrlsTimeoutSec: "30"
          sso:
            enabled: true
            secretName: sso-credentials
            apiManager:
              roles: tanzu.read
          apiKey:
            enabled: true
            vault:
              url: http://vault.vault.svc:8200/
              role: api-portal-role
              path: api-portal-for-vmware-tanzu
          serviceAccount:
            create: true
            name: api-portal

        namespace_provisioner:
          controller: false
          gitops_install:
            ref: origin/harbortest
            subPath: clusters/taplab/cluster-config/namespaces
            url: https://github.com/tfynes-pivotal/tap-gitops-sc2
          additional_sources:
          - git:
              ref: origin/harbortest
              subPath: clusters/taplab/cluster-config/namespaces/namespace-resources
              url: https://github.com/tfynes-pivotal/tap-gitops-sc2
            path: _ytt_lib/namespace-resources
        #!  import_data_values_secrets:
        #!   - name: my-dockerhub-credentials
        #!     namespace: tap-install
        #!     create_export: true
        package_overlays:
        - name: api-portal
          secrets:
          - name: api-portal-cm-tls-overlay-secret
          #!- name: reqfix-overlay-secret
        - name: accelerator
          secrets:
          - name: reqfix-overlay-secret
        - name: api-auto-registration
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-apiserver
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-connector
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: appsso
          secrets:
          - name: reqfix-overlay-secret
        - name: bitnami-services
          secrets:
          - name: reqfix-overlay-secret
        - name: buildservice
          secrets:
          - name: reqfix-overlay-secret
        - name: cartographer
          secrets:
          - name: reqfix-overlay-secret
        - name: cert-manager
          secrets:
          - name: reqfix-overlay-secret
        - name: cnrs
          secrets:
          - name: reqfix-overlay-secret
        - name: contour
          secrets:
          - name: reqfix-overlay-secret
        - name: crossplane
          secrets:
          - name: reqfix-overlay-secret
        - name: developer-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: eventing
          secrets:
          - name: reqfix-overlay-secret
        - name: fluxcd-source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: grype
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter-workshops
          secrets:
          - name: reqfix-overlay-secret
        - name: metadata-store
          secrets:
          - name: reqfix-overlay-secret
        - name: namespace-provisioner
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-delivery-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-supply-chain-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-templates
          secrets:
          - name: reqfix-overlay-secret
        - name: policy-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: scanning
          secrets:
          - name: reqfix-overlay-secret
        - name: service-bindings
          secrets:
          - name: reqfix-overlay-secret
        - name: services-toolkit
          secrets:
          - name: reqfix-overlay-secret
        - name: source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: spring-boot-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-auth
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-gui
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-telemetry
          secrets:
          - name: reqfix-overlay-secret
        - name: tekton-pipelines
          secrets:
          - name: reqfix-overlay-secret

