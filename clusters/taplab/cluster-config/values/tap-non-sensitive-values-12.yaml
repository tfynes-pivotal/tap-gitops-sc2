---
tap_install:
  values: 
        shared:
          ca_cert_data: |
            -----BEGIN CERTIFICATE-----
            MIIF7TCCA9WgAwIBAgIUdTF/0S8DCWGhd4rR4UYSU2bH/q8wDQYJKoZIhvcNAQEN
            BQAwgYUxCzAJBgNVBAYTAkNOMQ8wDQYDVQQIDAZCb3N0b24xDzANBgNVBAcMBkJv
            c3RvbjEQMA4GA1UECgwHZXhhbXBsZTERMA8GA1UECwwIUGVyc29uYWwxLzAtBgNV
            BAMMJm15cmVwby1oYXJib3IuaGFyYm9yLnN2Yy5jbHVzdGVyLmxvY2FsMB4XDTIz
            MDYyMTIyMTczOVoXDTMzMDYxODIyMTczOVowgYUxCzAJBgNVBAYTAkNOMQ8wDQYD
            VQQIDAZCb3N0b24xDzANBgNVBAcMBkJvc3RvbjEQMA4GA1UECgwHZXhhbXBsZTER
            MA8GA1UECwwIUGVyc29uYWwxLzAtBgNVBAMMJm15cmVwby1oYXJib3IuaGFyYm9y
            LnN2Yy5jbHVzdGVyLmxvY2FsMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKC
            AgEAuso0oyTGo7e8E5S2foWOa+afevZDntKqlDboCgYYyGHjBqh35iZ41wDNAAP/
            9o15RExXTEuSNDsEKUnJhpr0+BeZfTa8Jp6LVXZxjBMZAFT8kQayGJpogvoLdCHq
            LwWPJoGaWCiNEQbDJeyh3Il3GHf4JQFhZWnJHKljU9q0wxruIOOUpszoee3cE6AT
            nw0XX98IbnFXFCodsF42nIunHzdGG/dWMjdBpJK8nlPM9i+24PG8si4MtUgr0par
            boXPWgZXmvYDNPSn4I87j+zEDDXpxJHyYLv6mP2Vet7xHAzoxws/zn2uoiF3XEkp
            asQ+c0/bbEC/zhmUnPGBwy57sEqumWmw2RVrrnnh4PjKsTE/88hs8JraeHQ2Ymt8
            /TQJt5P7XAB7HTmX7cQ4vlYvetckCeelfiSm86b/0tPflJrCxWgadcZzMi9d7rWY
            S2RM1KrXsWH2OXv5uqrg1U11WUwOsIRyKxAZmZThng2deRFFrqDV7YcJFe0mlqHK
            nMcXrBkQVUFRVcpAs3LXFOfwFsR5d67DdIFvpUSNu3qA5ce82sBJR1+H+nbJCHXt
            OkcS+xsrBkcUJoFtLLwlmCLPLp/ZkyDAAZGtN4GBCDUZpvs79JInPj870zGhxksN
            sYiXhbqZsbVU4tRoUZnHsCqT3nsZ38PK4Vcd2pqQ0g9Vi7sCAwEAAaNTMFEwHQYD
            VR0OBBYEFJH2DaMPzl++Io8BCMF9jaoaOyVHMB8GA1UdIwQYMBaAFJH2DaMPzl++
            Io8BCMF9jaoaOyVHMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQENBQADggIB
            AK1O82dVLYm5wApTEcWjZ9lZ0JeChAKZIIekG5UslViYhToO8oEftgdRQncefd9G
            FVWUa5w5TosteScS/5qOAnXBf50dAn5ZFKjEGhHlbpwu76YpR+bYKFPmqkwXVXaF
            +GH9v+kyI2rDZapPyK/A4+bG05K0rX0XgyxCwi918fUrN20CJqKDtvSWjS9kbKEl
            B/dMg5S2scM8guxceMryRZ2dtHo+naQQlUo/kU1849jxDor7RLWHksZZ3NpiFICl
            LwBXnDv8u7IfkYWSBA+HNG+Q9kuwVzrx3Pk/KTHrQJ3NlmEQeARadb0ZChLS7A0r
            wI7KaPNKrHnoDaVSjRlkrM4FkjxSQ8u9lgIhMhHAmz8FFXuRzXFolf0LjrgmoSiS
            LnL4I45oBPL15bPps8l2ea7Tv0IEEZDfWjrz56DM28hzbEMRu4bCW5UgdAapVT0d
            zfCPrtntTGwC2jGG4W4YUYc2JUNSu+p7ekDKki+rNAkN+pNfuTgcFAIFlJb9Uwbi
            xKH0al+RCm09RcW7hB37HG81iG0wEptBbb8Wqyvd2qJHwkD9FwpE5BmHF0mes//6
            8H793AXcKSk7xOe4H4kNWzCSRjb6yjAovBcZ3pv4+6z8VZvPt3uoj17+PcJ55vF1
            K98galUydXbfA78hOBwnpmSGZ2Q2c2NzaaBD7nRPvS+a
            -----END CERTIFICATE-----





          ingress_domain: "akslab1.tap.fynesy.com"
          ingress_issuer: "letsencrypt-production"

          image_registry:
              project_path: myrepo-harbor.harbor.svc.cluster.local/tap
              username: admin
              password: Harbor12345
        
        
        buildservice:
            kp_default_repository: myrepo-harbor.harbor.svc.cluster.local/tap/build-service
            kp_default_repository_username: admin
            kp_default_password: Harbor12345
        
        learningcenter:
            imageRegistry: 
              host: "myrepo-harbor.harbor.svc.cluster.local"
              username: admin
              password: Harbor12345


        ceip_policy_disclosed: true

        profile: full 
        supply_chain: basic 

        ootb_supply_chain_basic: 
          registry:
            server: "myrepo-harbor.harbor.svc.cluster.local"
            repository: "tap"
          gitops:
            ssh_secret: ""

        ootb_supply_chain_testing_scanning:
          registry:
            server: "index.docker.io"
            repository: "fynesy"
          gitops:
            ssh_secret: ""

        contour:
          envoy:
            service:
              type: LoadBalancer 


        tap_gui:
          service_type: ClusterIP # If the shared.ingress_domain is set as earlier, this must be set to ClusterIP.
          metadataStoreAutoconfiguration: true 
          app_config:
            auth:
              allowGuestAccess: true
            catalog:
              locations:
                - type: url
                  target: http://github.com/tfynes-pivotal/tapblankcatalog/blob/main/catalog-info.yaml

        metadata_store:
          ns_for_export_app_cert: "*"
          app_service_type: ClusterIP # Defaults to LoadBalancer. If shared.ingress_domain is set earlier, this must be set to ClusterIP.

        scanning:
          metadataStore:
            url: "" 

        grype:
          namespace: "default"
          targetImagePullSecret: "tap-registry"
          # In a single cluster, the connection between the scanning pod and the metadata store happens inside the cluster and does not pass through ingress. This is automatically configured, you do not need to provide an ingress connection to the store.

        policy:
          tuf_enabled: false 

        cnrs:
          domain_template: '{{.Name}}-{{.Namespace}}.{{.Domain}}'

        api_portal:
          apiPortalServer:
            #!sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://10.0.166.161/openapi
            sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://customer-profile-x.default.svc.cluster.local:8080/api-docs,http://scg-operator.tap-install.svc.cluster.local/openapi
            trustInsecureSourceUrls: true
            sourceUrlsCacheTtlSec: "30"
            sourceUrlsTimeoutSec: "30"
          sso:
            enabled: true
            secretName: sso-credentials
            apiManager:
              roles: tanzu.read
          apiKey:
            enabled: true
            vault:
              url: http://vault.vault.svc:8200/
              role: api-portal-role
              path: api-portal-for-vmware-tanzu
          serviceAccount:
            create: true
            name: api-portal

        namespace_provisioner:
          controller: false
          gitops_install:
            ref: origin/harbortest
            subPath: clusters/taplab/cluster-config/namespaces
            url: https://github.com/tfynes-pivotal/tap-gitops-sc2
          additional_sources:
          - git:
              ref: origin/harbortest
              subPath: clusters/taplab/cluster-config/namespaces/namespace-resources
              url: https://github.com/tfynes-pivotal/tap-gitops-sc2
            path: _ytt_lib/namespace-resources
        #!  import_data_values_secrets:
        #!   - name: my-dockerhub-credentials
        #!     namespace: tap-install
        #!     create_export: true
        package_overlays:
        - name: api-portal
          secrets:
          - name: api-portal-cm-tls-overlay-secret
          #!- name: reqfix-overlay-secret
        - name: accelerator
          secrets:
          - name: reqfix-overlay-secret
        - name: api-auto-registration
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-apiserver
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-connector
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: appsso
          secrets:
          - name: reqfix-overlay-secret
        - name: bitnami-services
          secrets:
          - name: reqfix-overlay-secret
        - name: buildservice
          secrets:
          - name: reqfix-overlay-secret
        - name: cartographer
          secrets:
          - name: reqfix-overlay-secret
        - name: cert-manager
          secrets:
          - name: reqfix-overlay-secret
        - name: cnrs
          secrets:
          - name: reqfix-overlay-secret
        - name: contour
          secrets:
          - name: reqfix-overlay-secret
        - name: crossplane
          secrets:
          - name: reqfix-overlay-secret
        - name: developer-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: eventing
          secrets:
          - name: reqfix-overlay-secret
        - name: fluxcd-source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: grype
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter-workshops
          secrets:
          - name: reqfix-overlay-secret
        - name: metadata-store
          secrets:
          - name: reqfix-overlay-secret
        - name: namespace-provisioner
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-delivery-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-supply-chain-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-templates
          secrets:
          - name: reqfix-overlay-secret
        - name: policy-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: scanning
          secrets:
          - name: reqfix-overlay-secret
        - name: service-bindings
          secrets:
          - name: reqfix-overlay-secret
        - name: services-toolkit
          secrets:
          - name: reqfix-overlay-secret
        - name: source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: spring-boot-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-auth
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-gui
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-telemetry
          secrets:
          - name: reqfix-overlay-secret
        - name: tekton-pipelines
          secrets:
          - name: reqfix-overlay-secret

