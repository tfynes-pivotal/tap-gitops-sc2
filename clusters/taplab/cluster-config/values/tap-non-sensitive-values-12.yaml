---
tap_install:
  values: 
        shared:
          ca_cert_data: |
            -----BEGIN CERTIFICATE-----
            MIIGSDCCBDCgAwIBAgIUJI6nikSmELkSB0fFcqFLgP6pYGkwDQYJKoZIhvcNAQEL
            BQAwgZgxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJNQTESMBAGA1UEBwwJSG9sbGlz
            dG9uMQ4wDAYDVQQKDAVUYW56dTEOMAwGA1UECwwFVGFuenUxLzAtBgNVBAMMJm15
            cmVwby1oYXJib3IuaGFyYm9yLnN2Yy5jbHVzdGVyLmxvY2FsMRcwFQYJKoZIhvcN
            AQkBFghhQGJiLmNvbTAeFw0yMzA2MjEyMTM1MjRaFw0yNDA2MjAyMTM1MjRaMIGY
            MQswCQYDVQQGEwJVUzELMAkGA1UECAwCTUExEjAQBgNVBAcMCUhvbGxpc3RvbjEO
            MAwGA1UECgwFVGFuenUxDjAMBgNVBAsMBVRhbnp1MS8wLQYDVQQDDCZteXJlcG8t
            aGFyYm9yLmhhcmJvci5zdmMuY2x1c3Rlci5sb2NhbDEXMBUGCSqGSIb3DQEJARYI
            YUBiYi5jb20wggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCkye7UcFb+
            gqL4PgpAbT2ulFTP6ofHRPy7uVZgRzV+/0/WtCJdCauIqcHaYVzUVfzM4aE8tIey
            /J5f2rRazDjfkTd6im5/Ng8YbrCvnUFqjV9Nv3rB9Aw7J4bqerNGVKIswwgc4JML
            BxQZILHb+pe1AbMtWk0S7XUj2Fkg2nLwPUh6w/ricDT+CCGOi6Jb/ajm2bjfxyYU
            8p1WyOgNUhCXEpOrRIMa9dzH71GTsdwMG9CWKc6piNrPfYGN7yUc+9u4L9qTtMTL
            36+Ph+nKPXavRQvAp567eySQi+ICMuHE9eGZI19LcUEPp65TIE9EG6nntgQC/0Mz
            COmjOfgOsik2JPK+o2JTCd3yMRIslMGwJH0J8L9CrLzf+dAMBvxzfOMrw8NmlzJQ
            76BXejULremb98fX/AG4nqp6c1roILaxwNo9DoI1UrkbjZEMhCrwTZ1+Nm56RZB/
            NejczqIrhxER0KqlBF4el94gGenOhq/RexHfdl+4HSQb2gx62985+RC2hkY52z5b
            Y/QfBpKPz39QsFAO5SB0oWtaUAJlU/n+HtoMGauNOjX6tm4Vmw80wSg65pKKcrz3
            797T2UPjrLNYIGfDFsn+27d7os0fWiiabrszQXIW8AGqDbP3d2NgcBzZ7/HWx9Fw
            q/2XYopQrgtlbkCIO4osspYae/IpzEsXdwIDAQABo4GHMIGEMB0GA1UdDgQWBBQ/
            xC0UZiKqhN0EONA3KhfmtGjjXDAfBgNVHSMEGDAWgBQ/xC0UZiKqhN0EONA3Khfm
            tGjjXDAPBgNVHRMBAf8EBTADAQH/MDEGA1UdEQQqMCiCJm15cmVwby1oYXJib3Iu
            aGFyYm9yLnN2Yy5jbHVzdGVyLmxvY2FsMA0GCSqGSIb3DQEBCwUAA4ICAQCcsAIA
            tK6gjDsLBx7sswglIl85EgMylTP+YTDTi64jQAx1xYZAzpX2fiO85h5haGBAjRXw
            /M/k5aBR1ueiyrkOF5mrwFS/YyKXzdtydQcvRuUHZmvmyiH+r6s3Z806ZMf4RQFf
            ND56u0fgsU2ZP8Y6beF6wJGsS+Y90HaJPpbUi+ie7qY8vNQP5Amji8TdcC7+hoZy
            CUMdkjQMM6idJfTpty5IWIYRYk6lWSup6oDm+fr938o691S9bDgNRfIh3OHeRDB6
            ZsQWIhQ3HLewLPu6jfSRgUhiZoiApwU5fqmA7VWlLLdAiQeFqNvWm2bVr30BMpFZ
            Legc+kjIVuOv/jg20aGI2F56/pE3295nzGB8CwSfYarDCWx8cD9UO3iXI4g4kZys
            emguOVP1N6rErk173Ce/GOX0cX5lEmzp7M7mDz1WOIyqixB7l0WO2qb2QNtWX02C
            UZn+vvQ8s7BqvnWBJ9HfUL1dp/GxL3mScaUcDEplyFg9ZEDB8ti2w5Gc6vhwzKxd
            M2ofJkhHlFwJdQBtfu1bXjG+zfOmy3+lj4bSC6XSsUZ6zLh2IVJYlAk8rEPHfPeY
            C6W9XXurvlsNyv8pIpwy6hpx9MXqim3USRI0H/AU7wVDf+MofB/KImFdZwHGQ7bV
            yIk1RE3VXQleYMoYNaq4LeJGV5vktxkXK5yKaQ==
            -----END CERTIFICATE-----

          image_registry:
            project_path: myrepo-harbor.harbor.svc.cluster.local/tap
            username: admin
            password: Harbor12345
        
        buildservice:
          kp_default_repository: myrepo-harbor.harbor.svc.cluster.local/tap/build-service
          kp_default_repository_username: admin
          kp_default_repository_password: Harbor12345
        
        learningcenter:
            imageRegistry: 
              host: "myrepo-harbor.harbor.svc.cluster.local"
              username: admin
              password: Harbor12345

        ingress_domain: "akslab1.tap.fynesy.com"
        ingress_issuer: "letsencrypt-production"

        ceip_policy_disclosed: true

        profile: full 
        supply_chain: basic 

        ootb_supply_chain_basic: 
          registry:
            server: "myrepo-harbor.harbor.svc.cluster.local"
            repository: "tap"
          gitops:
            ssh_secret: ""

        ootb_supply_chain_testing_scanning:
          registry:
            server: "index.docker.io"
            repository: "fynesy"
          gitops:
            ssh_secret: ""

        contour:
          envoy:
            service:
              type: LoadBalancer 


        tap_gui:
          service_type: ClusterIP # If the shared.ingress_domain is set as earlier, this must be set to ClusterIP.
          metadataStoreAutoconfiguration: true 
          app_config:
            auth:
              allowGuestAccess: true
            catalog:
              locations:
                - type: url
                  target: http://github.com/tfynes-pivotal/tapblankcatalog/blob/main/catalog-info.yaml

        metadata_store:
          ns_for_export_app_cert: "*"
          app_service_type: ClusterIP # Defaults to LoadBalancer. If shared.ingress_domain is set earlier, this must be set to ClusterIP.

        scanning:
          metadataStore:
            url: "" 

        grype:
          namespace: "default"
          targetImagePullSecret: "tap-registry"
          # In a single cluster, the connection between the scanning pod and the metadata store happens inside the cluster and does not pass through ingress. This is automatically configured, you do not need to provide an ingress connection to the store.

        policy:
          tuf_enabled: false 

        cnrs:
          domain_template: '{{.Name}}-{{.Namespace}}.{{.Domain}}'

        api_portal:
          apiPortalServer:
            #!sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://10.0.166.161/openapi
            sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://customer-profile-x.default.svc.cluster.local:8080/api-docs,http://scg-operator.tap-install.svc.cluster.local/openapi
            trustInsecureSourceUrls: true
            sourceUrlsCacheTtlSec: "30"
            sourceUrlsTimeoutSec: "30"
          sso:
            enabled: true
            secretName: sso-credentials
            apiManager:
              roles: tanzu.read
          apiKey:
            enabled: true
            vault:
              url: http://vault.vault.svc:8200/
              role: api-portal-role
              path: api-portal-for-vmware-tanzu
          serviceAccount:
            create: true
            name: api-portal

        namespace_provisioner:
          controller: false
          gitops_install:
            ref: origin/harbortest
            subPath: clusters/taplab/cluster-config/namespaces
            url: https://github.com/tfynes-pivotal/tap-gitops-sc2
          additional_sources:
          - git:
              ref: origin/harbortest
              subPath: clusters/taplab/cluster-config/namespaces/namespace-resources
              url: https://github.com/tfynes-pivotal/tap-gitops-sc2
            path: _ytt_lib/namespace-resources
        #!  import_data_values_secrets:
        #!   - name: my-dockerhub-credentials
        #!     namespace: tap-install
        #!     create_export: true
        package_overlays:
        - name: api-portal
          secrets:
          - name: api-portal-cm-tls-overlay-secret
          #!- name: reqfix-overlay-secret
        - name: accelerator
          secrets:
          - name: reqfix-overlay-secret
        - name: api-auto-registration
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-apiserver
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-connector
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: appsso
          secrets:
          - name: reqfix-overlay-secret
        - name: bitnami-services
          secrets:
          - name: reqfix-overlay-secret
        - name: buildservice
          secrets:
          - name: reqfix-overlay-secret
        - name: cartographer
          secrets:
          - name: reqfix-overlay-secret
        - name: cert-manager
          secrets:
          - name: reqfix-overlay-secret
        - name: cnrs
          secrets:
          - name: reqfix-overlay-secret
        - name: contour
          secrets:
          - name: reqfix-overlay-secret
        - name: crossplane
          secrets:
          - name: reqfix-overlay-secret
        - name: developer-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: eventing
          secrets:
          - name: reqfix-overlay-secret
        - name: fluxcd-source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: grype
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter-workshops
          secrets:
          - name: reqfix-overlay-secret
        - name: metadata-store
          secrets:
          - name: reqfix-overlay-secret
        - name: namespace-provisioner
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-delivery-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-supply-chain-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-templates
          secrets:
          - name: reqfix-overlay-secret
        - name: policy-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: scanning
          secrets:
          - name: reqfix-overlay-secret
        - name: service-bindings
          secrets:
          - name: reqfix-overlay-secret
        - name: services-toolkit
          secrets:
          - name: reqfix-overlay-secret
        - name: source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: spring-boot-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-auth
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-gui
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-telemetry
          secrets:
          - name: reqfix-overlay-secret
        - name: tekton-pipelines
          secrets:
          - name: reqfix-overlay-secret

