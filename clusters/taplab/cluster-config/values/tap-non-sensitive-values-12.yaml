---
tap_install:
  values: 
        shared:
          ca_cert_data: |
            -----BEGIN CERTIFICATE-----
            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
            9bE3
            -----END CERTIFICATE-----





          ingress_domain: "akslab1.tap.fynesy.com"
          ingress_issuer: "letsencrypt-production"

          image_registry:
            project_path: myrepo-harbor.akslab.tap.fynesy.com/library
            username: admin
            password: Harbor12345
        
        buildservice:
          kp_default_repository: myrepo-harbor.akslab.tap.fynesy.com/library/build-service
          kp_default_repository_username: admin
          kp_default_repository_password: Harbor12345
        
        learningcenter:
            imageRegistry: 
              host: "myrepo-harbor.akslab.tap.fynesy.com"
              username: admin
              password: Harbor12345


        ceip_policy_disclosed: true

        profile: full 
        supply_chain: basic 

        ootb_supply_chain_basic: 
          registry:
            server: "myrepo-harbor.akslab.tap.fynesy.com"
            repository: "library"
          gitops:
            ssh_secret: ""

        contour:
          envoy:
            service:
              type: LoadBalancer 


        tap_gui:
          service_type: ClusterIP # If the shared.ingress_domain is set as earlier, this must be set to ClusterIP.
          metadataStoreAutoconfiguration: true 
          app_config:
            auth:
              allowGuestAccess: true
            catalog:
              locations:
                - type: url
                  target: http://github.com/tfynes-pivotal/tapblankcatalog/blob/main/catalog-info.yaml

        metadata_store:
          ns_for_export_app_cert: "*"
          app_service_type: ClusterIP # Defaults to LoadBalancer. If shared.ingress_domain is set earlier, this must be set to ClusterIP.

        scanning:
          metadataStore:
            url: "" 

        grype:
          namespace: "default"
          targetImagePullSecret: "tap-registry"
          # In a single cluster, the connection between the scanning pod and the metadata store happens inside the cluster and does not pass through ingress. This is automatically configured, you do not need to provide an ingress connection to the store.

        policy:
          tuf_enabled: false 

        cnrs:
          domain_template: '{{.Name}}-{{.Namespace}}.{{.Domain}}'

        api_portal:
          apiPortalServer:
            #!sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://10.0.166.161/openapi
            sourceUrls: https://petstore.swagger.io/v2/swagger.json,http://customer-profile-x.default.svc.cluster.local:8080/api-docs,http://scg-operator.tap-install.svc.cluster.local/openapi
            trustInsecureSourceUrls: true
            sourceUrlsCacheTtlSec: "30"
            sourceUrlsTimeoutSec: "30"
          sso:
            enabled: true
            secretName: sso-credentials
            apiManager:
              roles: tanzu.read
          apiKey:
            enabled: true
            vault:
              url: http://vault.vault.svc:8200/
              role: api-portal-role
              path: api-portal-for-vmware-tanzu
          serviceAccount:
            create: true
            name: api-portal

        namespace_provisioner:
          controller: false
          gitops_install:
            ref: origin/harbortest
            subPath: clusters/taplab/cluster-config/namespaces
            url: https://github.com/tfynes-pivotal/tap-gitops-sc2
          additional_sources:
          - git:
              ref: origin/harbortest
              subPath: clusters/taplab/cluster-config/namespaces/namespace-resources
              url: https://github.com/tfynes-pivotal/tap-gitops-sc2
            path: _ytt_lib/namespace-resources
        #!  import_data_values_secrets:
        #!   - name: my-dockerhub-credentials
        #!     namespace: tap-install
        #!     create_export: true
        package_overlays:
        - name: api-portal
          secrets:
          - name: api-portal-cm-tls-overlay-secret
          #!- name: reqfix-overlay-secret
        - name: accelerator
          secrets:
          - name: reqfix-overlay-secret
        - name: api-auto-registration
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-apiserver
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-connector
          secrets:
          - name: reqfix-overlay-secret
        - name: appliveview-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: appsso
          secrets:
          - name: reqfix-overlay-secret
        - name: bitnami-services
          secrets:
          - name: reqfix-overlay-secret
        - name: buildservice
          secrets:
          - name: reqfix-overlay-secret
        - name: cartographer
          secrets:
          - name: reqfix-overlay-secret
        - name: cert-manager
          secrets:
          - name: reqfix-overlay-secret
        - name: cnrs
          secrets:
          - name: reqfix-overlay-secret
        - name: contour
          secrets:
          - name: reqfix-overlay-secret
        - name: crossplane
          secrets:
          - name: reqfix-overlay-secret
        - name: developer-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: eventing
          secrets:
          - name: reqfix-overlay-secret
        - name: fluxcd-source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: grype
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter
          secrets:
          - name: reqfix-overlay-secret
        - name: learningcenter-workshops
          secrets:
          - name: reqfix-overlay-secret
        - name: metadata-store
          secrets:
          - name: reqfix-overlay-secret
        - name: namespace-provisioner
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-delivery-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-supply-chain-basic
          secrets:
          - name: reqfix-overlay-secret
        - name: ootb-templates
          secrets:
          - name: reqfix-overlay-secret
        - name: policy-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: scanning
          secrets:
          - name: reqfix-overlay-secret
        - name: service-bindings
          secrets:
          - name: reqfix-overlay-secret
        - name: services-toolkit
          secrets:
          - name: reqfix-overlay-secret
        - name: source-controller
          secrets:
          - name: reqfix-overlay-secret
        - name: spring-boot-conventions
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-auth
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-gui
          secrets:
          - name: reqfix-overlay-secret
        - name: tap-telemetry
          secrets:
          - name: reqfix-overlay-secret
        - name: tekton-pipelines
          secrets:
          - name: reqfix-overlay-secret

